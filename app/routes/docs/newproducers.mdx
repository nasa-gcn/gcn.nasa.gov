---
handle:
  breadcrumb: New Producers
---

import {
  ProcessList,
  ProcessListItem,
  ProcessListHeading,
} from '@trussworks/react-uswds'

# Setting up New GCN Notice Producers

The following steps guide new instrument, mission, or observatory producers
into setting up new notices streams that are distributed to the user community
via [Kafka](faq#what-is-kafka). This process requires interaction
with the [GCN Team](https://heasarc.gsfc.nasa.gov/cgi-bin/Feedback?selected=kafkagcn)
to enable accounts and kafka topics creation on the GCN Kafka broker. The GCN Team is
also happy to work with the mission teams to help construct your alert schema
utilizing our core JSON schema.

## Steps to Start Publishing Alerts

<ProcessList>
   <ProcessListItem>
     <ProcessListHeading type="h3">
       Setup Team Member Accounts
     </ProcessListHeading>
   - Make sure that your team member(s) who will implement GCN notices in your pipeline
   has signed in (at least once) to https://test.gcn.nasa.gov and https://gcn.nasa.gov.
   - Send the [GCN Team](https://heasarc.gsfc.nasa.gov/cgi-bin/Feedback?selected=kafkagcn)
   a list of email address(es) of all the team members who should have the
   producer access to the <code><i>mission_name</i>.\*</code> topics.
   </ProcessListItem>
   <ProcessListItem>
      <ProcessListHeading type="h3">
         Define Kafka Topics and JSON Schema
      </ProcessListHeading>
      The preferred format for formatting of the data sent via GCN Kafka is JSON.
      We have designed a set of [core schema](https://github.com/nasa-gcn/gcn-schema/tree/master/core-schema)
      which serves as the building blocks for your Notices.
      You can also define instrument-specific quantities in your
      schema, but we request that you utilize the core schema as much as possible.
      Please add your schema to the [GCN repository](https://github.com/nasa-gcn/gcn-schema).

      The GCN team is happy to iterate with the producers on their schema contents and format.
      Your pipeline will generate JSON files following these schema and send to GCN
      in the following process.

   </ProcessListItem>
   <ProcessListItem>
      <ProcessListHeading type="h3">
         Build Producer Code
      </ProcessListHeading>
      - Log out and log back in.
      - Go through the [Start Streaming GCN Notices](/quickstart) process.
      - On Step 2, choose the scope <code>gcn.nasa.gov/kafka-<i>MissionName</i>-producer</code>.
      - Your producer code will look very similar to the [client example code](docs/client) and
      Step 4 of [Start Streaming GCN Notices](/quickstart). `client_id` and `client_secret`
      can be found in Step 4 client example code.
      - Start from this and adjust the `client_id`, `client_secret`, `topic` and `data` content:

      ```python
      from gcn_kafka import Producer
      # Connect as a producer.
      # Warning: don't share the client secret with others.
      producer = Producer(client_id='fill me in', client_secret='fill me in')
      topic = 'mission_name.example'
      # any topic starting with 'mission_name'
      data = b'...'  # any bytes
      producer.produce(topic, data)
      ```

   </ProcessListItem>
   <ProcessListItem>
      <ProcessListHeading type="h3">
         Create or Update the Mission Page
      </ProcessListHeading>
      Create a new mission page by submitting a [pull request](https://github.com/nasa-gcn/gcn.nasa.gov/pulls)
or by emailing text to the [GCN Team](https://heasarc.gsfc.nasa.gov/cgi-bin/Feedback?selected=kafkagcn).
   </ProcessListItem>

   <ProcessListItem>
      <ProcessListHeading type="h3">
         Announce New Notice Types are Available
      </ProcessListHeading>

      The GCN Team will add your new notice type to the Kafka [Quick Start](../quickstart)
      and Email Notification configuration. Please work with the
      [GCN Team](https://heasarc.gsfc.nasa.gov/cgi-bin/Feedback?selected=kafkagcn)
      on drafting a community announcement.

   </ProcessListItem>
</ProcessList>
