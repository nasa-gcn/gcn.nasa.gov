---
handle:
  breadcrumb: New Producers
---

import {
  ProcessList,
  ProcessListItem,
  ProcessListHeading,
  SummaryBox,
} from '@trussworks/react-uswds'
import { GitHubLabel } from '~/components/GitHubLabel'

# Setting up New GCN Notice Producers

The following steps guide new instrument, mission, or observatory producers
into setting up new notices streams that are distributed to the user community
via [Kafka](faq#what-is-kafka). This process requires interactions
with the [GCN Team](https://heasarc.gsfc.nasa.gov/cgi-bin/Feedback?selected=kafkagcn)
to enable these accounts and topics are setup on the GCN Kafka broker,
and we are happy to work together to help you define schema utilizing our
core JSON schema.

## Defining Kafka Topics and JSON Schema

The preferred format for formatting of the data sent via GCN Kafka is JSON.
We have designed a set of [core schema](https://github.com/nasa-gcn/gcn-schema/tree/master/core-schema)
which serves as the building blocks for your Notices.
You can also define instrument-specific quantities in your
schema, but we request that you utilize the core schema as much as possible.
Please add your schema to the [GCN repository](https://github.com/nasa-gcn/gcn-schema).

The GCN team is happy to iterate with the producers on their schema contents and format.
Your pipeline will generate JSON files following these schema and send to GCN
in the following process.

## Steps to Start Publishing Alerts

1. Make sure that the user(s) on your team who will implement GCN notices in your pipelines
   has signed in (at least once) to https://test.gcn.nasa.gov and https://gcn.nasa.gov.
2. Send the [GCN Team](https://heasarc.gsfc.nasa.gov/cgi-bin/Feedback?selected=kafkagcn)
   a list of email address(es) of all the people who should have the
   producer access to the <code><i>mission_name</i>.\*</code> topics.
3. Decide on a topic name or prefix for several topic names.
4. Log out and log back in.
5. Go through the "Start Streaming GCN Notices" process.
6. On Step 2 of ["Start Streaming GCN Notices"](../quickstart),
   choose the `scope gcn.nasa.gov/kafka-MissionName-producer`.
7. Your producer code will look very similar to the [client example code](docs/client).
   Start from this and adjust as you see fit:

```python
from gcn_kafka import Producer
# Connect as a producer.
# Warning: don't share the client secret with others.
producer = Producer(client_id='fill me in', client_secret='fill me in')
# Your client ID and client secret can be found in Step 4 of ["Start Streaming GCN Notices"](../quickstart)
topic = 'mission_name.example'
# any topic starting with 'mission_name'
data = b'...'  # any bytes
producer.produce(topic, data)
```

## Mission page

Please create a new mission page by submitting a [pull request](https://github.com/nasa-gcn/gcn.nasa.gov/pulls)
or by emailing text to the [GCN Team](https://heasarc.gsfc.nasa.gov/cgi-bin/Feedback?selected=kafkagcn).

## Announce New Notices Type is Available

The GCN Team will add your new notice type to the Kafka [Quick Start](../quickstart)
and Email Notification configuration. Please work with the
[GCN Team](https://heasarc.gsfc.nasa.gov/cgi-bin/Feedback?selected=kafkagcn)
on drafting a community announcement.
